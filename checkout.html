<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Checkout â€¢ On God Bend Mini Mart</title>
<script src="https://js.paystack.co/v1/inline.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<style>
:root { --brand:#b8860b; --brand-dark:#8b6508; --ink:#1f1f1f; --bg:#f7f7f9; --card:#ffffff; }
*{box-sizing:border-box;} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink);}
a{color:inherit;text-decoration:none;}
header{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:#111;color:#fff;}
.brand{display:flex;align-items:center;gap:10px;} .brand img{height:44px;width:auto;border-radius:6px;}
.nav{display:flex;gap:14px;} .nav a{padding:8px 10px;border-radius:8px;} .nav a:hover{background:rgba(255,255,255,.08);}
.cart-btn{display:inline-flex;align-items:center;gap:8px;background:var(--brand);color:#fff;border:0;border-radius:10px;padding:8px 12px;font-weight:600;cursor:pointer;}
.badge{background:#111;color:#fff;border-radius:999px;padding:2px 8px;font-size:12px;}
#checkout{padding:26px 16px;max-width:900px;margin:0 auto 26px;}
form.checkout{background:#fff;border-radius:16px;padding:18px;box-shadow:0 6px 18px rgba(0,0,0,.06);}
.fields{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));}
input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd;}
.order-summary{margin-top:16px;background:#fafafa;border-radius:12px;padding:12px;}
.pay-row{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0;}
.place{width:100%;background:#111;color:#fff;border:0;border-radius:12px;padding:12px 14px;font-weight:800;cursor:pointer;}
.note{font-size:12px;color:#666;}
.success{background:#e9ffe9;border:1px solid #a7e7a7;color:#0a5d0a;padding:12px;border-radius:12px;margin-top:12px;display:none;}
footer{padding:24px 16px;text-align:center;background:#111;color:#bbb;margin-top:26px;}
</style>
</head>
<body>
<header>
  <div class="brand"><img src="https://i.postimg.cc/bJRyWDhS/file-000000003574620aa7b29924f4c1965a.png" alt="Logo"/></div>
  <nav class="nav">
    <a href="index.html#products">Shop</a>
    <a href="index.html#contact">Contact</a>
    <a href="cart.html" class="cart-btn">ðŸ›’ Cart <span class="badge" id="cartCount">0</span></a>
  </nav>
</header>

<section id="checkout" class="section">
  <h2>Checkout</h2>
  <form class="checkout" onsubmit="return submitOrder(event)">
    <div class="fields">
      <div><label>Full Name</label><input id="name" required /></div>
      <div><label>Phone</label><input id="phone" required /></div>
      <div><label>Email</label><input id="email" type="email" placeholder="(optional)" /></div>
      <div style="grid-column:1/-1"><label>Delivery Address</label><input id="address" required /></div>
    </div>
    <div class="order-summary" id="orderSummary"></div>
    <div class="pay-row">
      <label><input type="radio" name="pay" value="pod" checked /> Pay on Delivery</label>
      <label><input type="radio" name="pay" value="paystack" /> Pay with Paystack</label>
    </div>
    <button class="place" type="submit">Place Order</button>
    <div class="note">Online payment uses Paystack. Configure your public key below.</div>
    <div class="success" id="successBox"></div>
  </form>
</section>

<footer>
  Â© <span id="year"></span> On God Bend Mini Mart, Wine & Liquor â€” All Rights Reserved.
</footer>

<script src="cart.js"></script>
<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyAwzdua-29Bp19C5_OfXX4PWuCGHsOKfag",
  authDomain: "ongod-5073e.firebaseapp.com",
  projectId: "ongod-5073e",
  storageBucket: "ongod-5073e.firebasestorage.app",
  messagingSenderId: "439687837026",
  appId: "1:439687837026:web:1f752fc79a41e9f5bd283b",
  measurementId: "G-1TVP0X3J62"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

document.getElementById("year").textContent = new Date().getFullYear();

// Render summary on checkout page
document.addEventListener("DOMContentLoaded", () => {
  renderCartBadge();
  if (window.location.pathname.includes("checkout.html")) renderOrderSummary();
});
</script>
</body>
</html>